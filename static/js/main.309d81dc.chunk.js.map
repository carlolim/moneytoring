{"version":3,"sources":["components/common/toolbar.js","components/common/floating-action-button.js","components/dashboard/dashboard-menu.js","components/dashboard/widgets/expense-summary.js","components/dashboard/dashboard.js","components/common/filter.js","components/expense/expense.js","components/income/income.js","components/expense/new-expense.js","components/common/modal-danger.js","components/expense/edit-expense.js","components/common/main.js","components/common/navigation.js","App.js","serviceWorker.js","index.js","database.js"],"names":["BackButton","withRouter","_ref","history","react_default","a","createElement","onClick","goBack","className","Toolbar","handleNavToggle","window","toggleNavigation","this","props","showBackButton","type","id","bind","title","buttons","map","btn","i","key","Component","FloatingActionButton","callback","icon","DashboardMenu","newExpense","ExpenseSummary","href","Dashboard","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleMenu","setState","objectSpread","state","showMenu","push","toolbar","expense_summary","common_floating_action_button","dashboard_dashboard_menu","Filter","changeViewType","e","viewType","target","value","changeStateValue","parentProperty","childProperty","defineProperty","handleApply","startDate","Date","endDate","daily","date","alert","moment","hours","minutes","seconds","weekly","week","weekParts","split","weekNumber","Number","replace","year","startOf","endOf","monthly","month","monthParts","yearly","isNaN","custom","from","to","applyFilter","$","modal","format","tabIndex","role","onChange","data-dismiss","AddButton","Expense","loadExpenses","console","log","expenses","currentFilter","total","range","IDBKeyRange","bound","toDate","indexedDB","open","onsuccess","event","store","result","transaction","objectStore","index","openCursor","cursor","concat","toConsumableArray","amount","continue","data-toggle","data-target","formatMoney","item","Link","expenseId","length","filter","Income","NewExpense","loadAccounts","component","selectAccounts","getAll","oncomplete","accounts","loadCategories","selectcategory","categories","categoryId","accountId","description","property","parseInt","self","data","parseFloat","refs","focus","put","handleSave","ref","handleChangeProperty","name","placeholder","onBlur","formatCurrency","rows","ModalDanger","aria-label","aria-hidden","body","EditExpense","loadExpense","select","get","handleDelete","delete","on","match","params","modal_danger","Main","Switch","Route","path","Navigation","App","navigation","main","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","matchMedia","matches","createHashHistory","createBrowserHistory","request","onupgradeneeded","db","onerror","objectStoreNames","contains","expenseTable","createObjectStore","keyPath","autoIncrement","createIndex","unique","categoryTransaction","selectCategories","addCategoryStore","initialize","ReactDOM","render","Router","basename","process","src_App_0","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.309d81dc.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst BackButton = withRouter(({ history }) => (\r\n    <button onClick={() => { history.goBack() }}><i className=\"fas fa-arrow-left\"></i></button>\r\n))\r\n\r\nclass Toolbar extends Component {\r\n    handleNavToggle = () => {\r\n        window.toggleNavigation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-light\">\r\n                {this.props.showBackButton ? \r\n                    <BackButton /> :\r\n                    <button type=\"button\" id=\"sidebarCollapse\" className=\"btn\" onClick={this.handleNavToggle.bind(this)}>\r\n                        <i className=\"fas fa-bars\"></i>\r\n                    </button>\r\n                }\r\n                <div className=\"mr-auto\">\r\n                    {this.props.title}\r\n                </div>\r\n                {this.props.buttons ? this.props.buttons.map((btn, i) => <span key={i}>{btn}</span>) : null}\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Toolbar;\r\n","import React, { Component } from 'react';\r\nimport './floating-action-button.css';\r\n\r\nclass FloatingActionButton extends Component {\r\n    render() {\r\n      return (\r\n          <button onClick={this.props.callback} className={this.props.className + \" btn btn-primary btn-lg floating-action-button\"}>\r\n              {this.props.icon ? this.props.icon : <i className=\"fas fa-plus\"></i>}\r\n          </button>\r\n      );\r\n    }\r\n  }\r\n  \r\nexport default FloatingActionButton;","import React, { Component } from 'react';\r\nimport \"./dashboard-menu.css\";\r\n\r\nclass DashboardMenu extends Component {\r\n    render() {\r\n      return (\r\n        <div className=\"menu-holder\">\r\n            <div className=\"sub-action-holder\">\r\n                <span className=\"rubberBand animated badge badge-dark menu-label-first menu-label\">new income</span>\r\n                <button className=\"animated rubberBand round-menu-button btn btn-success menu-first\">\r\n                    <i className=\"fas fa-dollar-sign\"></i>\r\n                </button>\r\n                <span className=\"rubberBand animated badge badge-dark menu-label-second menu-label\">new expense</span>\r\n                <button onClick={this.props.newExpense} className=\"animated rubberBand round-menu-button btn btn-danger menu-second\">\r\n                    <i className=\"fas fa-tags\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default DashboardMenu;\r\n  ","import React, { Component } from 'react';\r\n\r\nclass ExpenseSummary extends Component {\r\n    render() {\r\n      return (\r\n        <div className=\"card\">\r\n            <div className=\"card-header pl-1 pr-1 pt-0 pb-0 text-center\">\r\n                <button type=\"button\" className=\"btn btn-light float-left\"><i className=\"fas fa-angle-left\"></i></button>\r\n                <span className=\"mt-2 d-inline-block\">Jan 24</span>\r\n                <button type=\"button\" className=\"btn btn-light float-right\"><i className=\"fas fa-angle-right\"></i></button>\r\n            </div>\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Special title treatment</h5>\r\n                <p className=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\r\n                <a href=\"#\" className=\"btn btn-primary\">Go somewhere</a>\r\n            </div>\r\n            <div className=\"card-footer text-muted text-right\">500.00</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default ExpenseSummary;\r\n  ","import React, { Component } from 'react';\r\nimport Toolbar from \"../common/toolbar\";\r\nimport FloatingActionButton from '../common/floating-action-button';\r\nimport DashboardMenu from './dashboard-menu';\r\nimport ExpenseSummary from \"./widgets/expense-summary\";\r\n\r\nclass Dashboard extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {showMenu: false}\r\n    }\r\n\r\n    toggleMenu = () => {\r\n      this.setState({...this.state, showMenu: !this.state.showMenu});\r\n    }\r\n\r\n    newExpense() {\r\n        this.props.history.push('/expense/new');\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n            <Toolbar title=\"moneytoring\" />\r\n            <div className=\"content\">\r\n              <div className=\"p-2\">\r\n                <ExpenseSummary />\r\n              </div>\r\n\r\n              <FloatingActionButton \r\n                className={this.state.showMenu ? \"animated rubberBand\" : ''}\r\n                callback={this.toggleMenu.bind(this)}\r\n                icon={this.state.showMenu ? <i className=\"fas fa-times\"></i> : <i className=\"fas fa-plus\"></i>}\r\n              />\r\n              {this.state.showMenu ? <DashboardMenu newExpense={this.newExpense.bind(this)} /> : null}\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Dashboard;\r\n  ","import React, { Component } from 'react';\r\nimport moment from \"moment\";\r\n\r\nclass Filter extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            viewType: 'daily',\r\n            daily: {\r\n                date: moment().format('YYYY-MM-DD')\r\n            },\r\n            weekly: {\r\n                week: ''\r\n            },\r\n            monthly: {\r\n                month: ''\r\n            },\r\n            yearly: {\r\n                year: ''\r\n            },\r\n            custom: {\r\n                from: '',\r\n                to:''\r\n            }\r\n        }\r\n    }\r\n\r\n    changeViewType = (e) => {\r\n        this.setState({...this.state, viewType: e.target.value });\r\n    }\r\n\r\n    changeStateValue = (parentProperty, childProperty, e) => {\r\n        this.setState({...this.state, [parentProperty]: { ...this.state[parentProperty], [childProperty]: e.target.value }});\r\n    }\r\n\r\n    handleApply = () => {\r\n        let startDate = new Date();\r\n        let endDate = new Date();\r\n        switch(this.state.viewType) {\r\n            case 'daily':\r\n                if(this.state.daily.date === '') {\r\n                    alert ('Select date');\r\n                    return;\r\n                }\r\n                else {\r\n                    startDate = moment(this.state.daily.date).hours(0).minutes(0).seconds(0);\r\n                    endDate = moment(this.state.daily.date).hours(23).minutes(59).seconds(59);\r\n                }\r\n                break;\r\n            case 'weekly':\r\n                if (this.state.weekly.week === '') {\r\n                    alert('Select week');\r\n                    return;\r\n                }\r\n                else {\r\n                    let weekParts = this.state.weekly.week.split('-');\r\n                    let weekNumber = Number(weekParts[1].replace('W', ''));\r\n                    startDate = moment().year(Number(weekParts[0])).week(weekNumber).startOf('week');\r\n                    endDate = moment().year(Number(weekParts[0])).week(weekNumber).endOf('week');\r\n                }\r\n                break;\r\n            case 'monthly':\r\n                if (this.state.monthly.month === '') {\r\n                    alert('Select month');\r\n                    return;\r\n                }\r\n                else {\r\n                    let monthParts = this.state.monthly.month.split('-');\r\n                    startDate = moment().year(Number(monthParts[0])).month(Number(monthParts[1]) - 1).startOf('month');\r\n                    endDate = moment().year(Number(monthParts[0])).month(Number(monthParts[1]) - 1).endOf('month');\r\n                }\r\n                break;\r\n            case 'yearly':\r\n                if (this.state.yearly.year === '' || isNaN(this.state.yearly.year)) {\r\n                    alert('Select year');\r\n                    return;\r\n                }\r\n                else {\r\n                    let year = Number(this.state.yearly.year);\r\n                    startDate = moment().year(year).startOf('year');\r\n                    endDate = moment().year(year).endOf('year');\r\n                }\r\n                break;\r\n           default: //custom range\r\n                if(this.state.custom.from === ''){\r\n                    alert('Select date from');\r\n                    return;\r\n                }\r\n                else if(this.state.custom.to === '') {\r\n                    alert('Selecte date to');\r\n                    return;\r\n                }\r\n                else {\r\n                    startDate = moment(this.state.custom.from).hours(0).minutes(0).seconds(0);\r\n                    endDate = moment(this.state.custom.to).hours(23).minutes(59).seconds(59);\r\n                }\r\n        }\r\n        this.props.applyFilter(startDate, endDate);\r\n        window.$(\"#modalFilterExpense\").modal('hide');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"modal\" id=\"modalFilterExpense\" tabIndex=\"-1\" role=\"dialog\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">Filter expenses</h5>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <div className=\"form-group\">\r\n                            <label>View</label>\r\n                            <select value={this.state.viewType} onChange={this.changeViewType.bind(this)} className=\"form-control\">\r\n                                <option value=\"daily\">Daily</option>\r\n                                <option value=\"weekly\">Weekly</option>\r\n                                <option value=\"monthly\">Monthly</option>\r\n                                <option value=\"yearly\">Yearly</option>\r\n                                <option value=\"custom\">Custom range</option>\r\n                            </select>\r\n                        </div>\r\n                        {this.state.viewType === 'daily' ?\r\n                            <div className=\"form-group\">\r\n                                <label>Date</label>\r\n                                <input type=\"date\" className=\"form-control\" value={this.state.daily.date} onChange={this.changeStateValue.bind(this, 'daily', 'date')} />\r\n                            </div>\r\n                        : null }\r\n                        {this.state.viewType === 'weekly' ?\r\n                            <div className=\"form-group\">\r\n                                <label>Week</label>\r\n                                <input type=\"week\" className=\"form-control\" value={this.state.weekly.week} onChange={this.changeStateValue.bind(this, 'weekly', 'week')} />\r\n                            </div>\r\n                        : null }\r\n                        {this.state.viewType === 'monthly' ?\r\n                            <div className=\"form-group\">\r\n                                <label>Month</label>\r\n                                <input type=\"month\" className=\"form-control\" value={this.state.monthly.month} onChange={this.changeStateValue.bind(this, 'monthly', 'month')} />\r\n                            </div>\r\n                        : null }\r\n                        {this.state.viewType === 'yearly' ?\r\n                            <div className=\"form-group\">\r\n                                <label>Year</label>\r\n                                <input type=\"year\" className=\"form-control\" value={this.state.yearly.year} onChange={this.changeStateValue.bind(this, 'yearly', 'year')} />\r\n                            </div>\r\n                        : null }\r\n                        {this.state.viewType === 'custom' ?\r\n                            <div>\r\n                                <div className=\"form-group\">\r\n                                    <label>From</label>\r\n                                    <input type=\"date\" className=\"form-control\" value={this.state.custom.from} onChange={this.changeStateValue.bind(this, 'custom', 'from')} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>To</label>\r\n                                    <input type=\"date\" className=\"form-control\" value={this.state.custom.to} onChange={this.changeStateValue.bind(this, 'custom', 'to')} />\r\n                                </div>\r\n                            </div>\r\n                        : null }\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleApply.bind(this)}>Apply</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n  \r\n  export default Filter;\r\n  ","import React, { Component } from 'react';\r\nimport FloatingActionButton from '../common/floating-action-button';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport './expense.css';\r\nimport Toolbar from \"../common/toolbar\";\r\nimport Filter from \"../common/filter\";\r\nimport moment from \"moment\";\r\n\r\nconst AddButton = withRouter(({ history }) => (\r\n    <FloatingActionButton callback={() => { history.push('/expense/new') }} />\r\n))\r\n\r\nclass Expense extends Component {\r\n    constructor (props) {\r\n      super(props);\r\n      this.state = {\r\n        currentFilter: '',\r\n        total: 0,\r\n        expenses: []\r\n      }\r\n    }\r\n\r\n    componentDidMount () {\r\n      let from = moment().hours(0).minutes(0).seconds(0);\r\n      let to = moment().hours(23).minutes(59).seconds(59);\r\n      this.loadExpenses(from, to);\r\n    }\r\n\r\n    loadExpenses = (from, to) => {\r\n      console.log(from, to);\r\n      if (from.month() === to.month() && from.date() === to.date() && from.year() === to.year()){\r\n        this.setState({...this.state, expenses: [], currentFilter: from.format('MMM DD'), total: 0});\r\n      }\r\n      else {\r\n        this.setState({...this.state, expenses: [], currentFilter: from.format('MMM DD') + ' - ' + to.format('MMM DD'), total: 0});\r\n      }\r\n      var range = null;\r\n      if (from && to) {\r\n        range = IDBKeyRange.bound(from.toDate(), to.toDate());\r\n      }\r\n      const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n      requestDatabase.onsuccess = (event) => {\r\n          var db = event.target.result;\r\n          var transaction = db.transaction([\"expense\"], \"readonly\");\r\n          var store = transaction.objectStore(\"expense\");\r\n          var selectall = range === null ? store.index('date').openCursor(null, 'prev') : store.index('date').openCursor(range, 'prev');\r\n          \r\n          selectall.onsuccess = (event) => {\r\n              var cursor = event.target.result;\r\n              if(cursor) {\r\n                  this.setState({...this.state, \r\n                    expenses: [...this.state.expenses, cursor.value],\r\n                    total: this.state.total + cursor.value.amount\r\n                  });\r\n                  cursor.continue();\r\n              }\r\n          }\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n          <Toolbar title=\"Expense\"\r\n                buttons={[\r\n                    (<button data-toggle=\"modal\" data-target=\"#modalFilterExpense\"><i className=\"fas fa-filter\"></i></button>)\r\n                ]}\r\n          />\r\n          <div className=\"content\">\r\n            <div className=\"under-toolbar-message text-center pt-1\">\r\n              {this.state.currentFilter}<br/><small>{window.formatMoney(this.state.total)}</small>\r\n            </div>\r\n            <div className=\"expenses-holder\">\r\n                {this.state.expenses.map(item =>\r\n                  <Link key={item.expenseId} className=\"list-item d-block\" to={'/expense/edit/' + item.expenseId}>\r\n                    {item.title}\r\n                    <small className=\"float-right\">{window.formatMoney(item.amount)}</small>\r\n                  </Link>\r\n                )}\r\n                {this.state.expenses.length === 0 ? <p className=\"text-center mt-5\">Wow! no expenses!</p> : null}\r\n                <AddButton />\r\n            </div>\r\n          </div>\r\n          <Filter applyFilter={this.loadExpenses.bind(this)} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Expense;\r\n  ","import React, { Component } from 'react';\r\n\r\nclass Income extends Component {\r\n    render() {\r\n      return (\r\n        <div>\r\n            <h1>Income index</h1>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Income;\r\n  ","import React, { Component } from 'react';\r\nimport Toolbar from \"../common/toolbar\";\r\nimport moment from \"moment\";\r\n\r\nclass NewExpense extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            categoryId: 0,\r\n            amount: '',\r\n            accountId: 1,\r\n            description: '',\r\n            date: moment().format('YYYY-MM-DD[T]HH:mm'),\r\n            accounts: [],\r\n            categories: []\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.loadAccounts(this);\r\n        this.loadCategories(this);\r\n    }\r\n\r\n    loadAccounts = (component) => {\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = function (event) {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction([\"account\"], \"readonly\");\r\n    \r\n            var accountStore = transaction.objectStore(\"account\");\r\n            var selectAccounts = accountStore.getAll();\r\n            transaction.oncomplete = function (event) { \r\n                component.setState({...component.state, accounts: selectAccounts.result});\r\n            }\r\n        }\r\n    }\r\n    \r\n    loadCategories = (component) => {\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = function (event) {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction([\"category\"], \"readonly\");\r\n    \r\n            var categoryStore = transaction.objectStore(\"category\");\r\n            var selectcategory = categoryStore.getAll();\r\n            transaction.oncomplete = function (event) { \r\n                component.setState({...component.state, categories: selectcategory.result});\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChangeProperty (property, e) {\r\n        let value = e.target.value;\r\n        if (property === 'accountId' || property === 'categoryId') {\r\n            value = parseInt(e.target.value);\r\n        }\r\n\r\n        this.setState({...this.state, [property]: value});\r\n    }\r\n\r\n    formatCurrency (e) {\r\n        let value = window.formatMoney(this.state.amount);\r\n        this.setState({...this.state, \"amount\": value});\r\n    }\r\n\r\n    handleSave () {\r\n        var self = this;\r\n        var data = {\r\n            title: this.state.title,\r\n            categoryId: this.state.categoryId,\r\n            accountId: this.state.accountId,\r\n            amount: parseFloat(this.state.amount.replace(/,/g, '')),\r\n            description: this.state.description,\r\n            date: new Date(this.state.date)\r\n        };\r\n        if (data.title === '') {\r\n            alert('Title is required');\r\n            this.refs[\"title\"].focus();\r\n            return;\r\n        }\r\n        else if (data.amount === 0 || isNaN(data.amount)) {\r\n            alert('Amount is required');\r\n            this.refs[\"amount\"].focus();\r\n            return;\r\n        }\r\n        else if (data.accountId === 0) {\r\n            alert('Select account');\r\n            this.refs[\"account\"].focus();\r\n            return;\r\n        }\r\n        else if (!this.state.date || this.state.date === '') {\r\n            alert('Date is required');\r\n            this.refs[\"date\"].focus();\r\n            return;\r\n        }\r\n\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = function (event) {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction(\"expense\", \"readwrite\");\r\n            var store = transaction.objectStore(\"expense\");\r\n            store.put(data);\r\n            transaction.oncomplete = function (event) {\r\n                self.props.history.push(\"/expense\");\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n            <Toolbar \r\n                showBackButton={true}\r\n                title=\"Add expense\"\r\n                buttons={[\r\n                    (<button onClick={this.handleSave.bind(this)}><i className=\"fas fa-save\"></i></button>)\r\n                ]}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"p-3\">\r\n                    <div className=\"form-group\">\r\n                        <label>Account:</label>\r\n                        <select ref=\"account\" className=\"form-control\" value={this.state.accountId} onChange={this.handleChangeProperty.bind(this, 'accountId')}>\r\n                            <option>-select account-</option>\r\n                            {this.state.accounts.map(item => <option key={item.accountId} value={item.accountId}>{item.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Title:</label>\r\n                        <input placeholder=\"Title\" type=\"text\" ref=\"title\" className=\"form-control\" value={this.state.title} onChange={this.handleChangeProperty.bind(this, 'title')} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Amount:</label>\r\n                        <input placeholder=\"Amount\" onBlur={this.formatCurrency.bind(this)} ref=\"amount\" type=\"text\" className=\"form-control text-right\" value={this.state.amount} onChange={this.handleChangeProperty.bind(this, 'amount')} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Category:</label>\r\n                        <select className=\"form-control\" value={this.state.categoryId} onChange={this.handleChangeProperty.bind(this, 'categoryId')}>\r\n                            <option>-select category-</option>\r\n                            {this.state.categories.map(item => <option key={item.categoryId} value={item.categoryId}>{item.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Date:</label>\r\n                        <input placeholder=\"Date\" type=\"datetime-local\" ref=\"date\" className=\"form-control\" value={this.state.date} onChange={this.handleChangeProperty.bind(this, 'date')} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Notes:</label>\r\n                        <textarea placeholder=\"Description\" rows=\"5\" className=\"form-control\" value={this.state.description} onChange={this.handleChangeProperty.bind(this, 'description')}></textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default NewExpense;\r\n  ","import React, { Component } from 'react';\r\n\r\nclass ModalDanger extends Component {\r\n    render() {\r\n      return (\r\n          <div className=\"modal\" id=\"modalDanger\" tabIndex=\"-1\" role=\"dialog\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <h5 className=\"modal-title\">{this.props.title}</h5>\r\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                  </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  <p>{this.props.body}</p>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n                  <button onClick={this.props.callback} type=\"button\" className=\"btn btn-primary\">Ok</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      );\r\n    }\r\n}\r\n  \r\n\r\nexport default ModalDanger;\r\n\r\n","import React, { Component } from 'react';\r\nimport Toolbar from \"../common/toolbar\";\r\nimport moment from \"moment\";\r\nimport ModalDanger from \"../common/modal-danger\";\r\n\r\nclass EditExpense extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expenseId: Number(this.props.match.params.id),\r\n            title: '',\r\n            categoryId: 0,\r\n            amount: '',\r\n            accountId: 0,\r\n            date: moment().format('YYYY-MM-DD[T]HH:mm'),\r\n            description: '',\r\n            accounts: [],\r\n            categories: []\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.loadAccounts(this);\r\n        this.loadCategories(this);\r\n        this.loadExpense(this.state.expenseId, this);\r\n    }\r\n\r\n    loadExpense = (id, component) => {\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = (event) => {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction([\"expense\"], \"readonly\");\r\n    \r\n            var store = transaction.objectStore(\"expense\");\r\n            var select = store.get(id);\r\n\r\n            transaction.oncomplete = (event) => {\r\n                if (!select.result){\r\n                    this.props.history.push(\"/expense\");\r\n                    return;\r\n                }\r\n                component.setState({\r\n                    ...component.state,\r\n                    title: select.result.title,\r\n                    categoryId: select.result.categoryId,\r\n                    amount: window.formatMoney(select.result.amount),\r\n                    accountId: select.result.accountId,\r\n                    description: select.result.description,\r\n                    date: moment(select.result.date).format('YYYY-MM-DD[T]HH:mm')\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    loadAccounts = (component) => {\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = function (event) {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction([\"account\"], \"readonly\");\r\n    \r\n            var accountStore = transaction.objectStore(\"account\");\r\n            var selectAccounts = accountStore.getAll();\r\n            transaction.oncomplete = function (event) { \r\n                component.setState({...component.state, accounts: selectAccounts.result});\r\n            }\r\n        }\r\n    }\r\n    \r\n    loadCategories = (component) => {\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = function (event) {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction([\"category\"], \"readonly\");\r\n    \r\n            var categoryStore = transaction.objectStore(\"category\");\r\n            var selectcategory = categoryStore.getAll();\r\n            transaction.oncomplete = function (event) { \r\n                component.setState({...component.state, categories: selectcategory.result});\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChangeProperty (property, e) {\r\n        let value = e.target.value;\r\n        if (property === 'accountId' || property === 'categoryId') {\r\n            value = parseInt(e.target.value);\r\n        }\r\n\r\n        this.setState({...this.state, [property]: value});\r\n    }\r\n\r\n    formatCurrency (e) {\r\n        let value = window.formatMoney(this.state.amount);\r\n        this.setState({...this.state, \"amount\": value});\r\n    }\r\n\r\n    handleSave () {\r\n        var self = this;\r\n        var data = {\r\n            expenseId: this.state.expenseId,\r\n            title: this.state.title,\r\n            categoryId: this.state.categoryId,\r\n            accountId: this.state.accountId,\r\n            amount: parseFloat(this.state.amount.replace(/,/g, '')),\r\n            description: this.state.description,\r\n            date: new Date(this.state.date)\r\n        };\r\n\r\n        console.log(data);\r\n        if (data.title === '') {\r\n            alert('Title is required');\r\n            this.refs[\"title\"].focus();\r\n            return;\r\n        }\r\n        else if (data.amount === 0 || isNaN(data.amount)) {\r\n            alert('Amount is required');\r\n            this.refs[\"amount\"].focus();\r\n            return;\r\n        }\r\n        else if (data.accountId === 0) {\r\n            alert('Select account');\r\n            this.refs[\"account\"].focus();\r\n            return;\r\n        }\r\n        else if (!this.state.date || this.state.date === '') {\r\n            alert('Date is required');\r\n            this.refs[\"date\"].focus();\r\n            return;\r\n        }\r\n\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = function (event) {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction(\"expense\", \"readwrite\");\r\n            var store = transaction.objectStore(\"expense\");\r\n            store.put(data);\r\n            transaction.oncomplete = function (event) {\r\n                self.props.history.push(\"/expense\");\r\n            }\r\n        }\r\n    }\r\n\r\n    handleDelete = () => {\r\n        const requestDatabase = indexedDB.open(\"Moneytoring\");\r\n        requestDatabase.onsuccess = (event) => {\r\n            var db = event.target.result;\r\n            var transaction = db.transaction(\"expense\", \"readwrite\");\r\n            var store = transaction.objectStore(\"expense\");\r\n            store.delete(this.state.expenseId);\r\n            console.log(1);\r\n            transaction.oncomplete = (event) => {\r\n                window.$('#modalDanger').on('hidden.bs.modal', () => {\r\n                    this.props.history.push(\"/expense\");\r\n                });\r\n                window.$(\"#modalDanger\").modal('hide');\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n            <Toolbar \r\n                showBackButton={true}\r\n                title=\"Edit expense\"\r\n                buttons={[\r\n                    (<button data-toggle=\"modal\" data-target=\"#modalDanger\" onClick={() => {}}><i className=\"fas fa-trash-alt\"></i></button>),\r\n                    (<button onClick={this.handleSave.bind(this)}><i className=\"fas fa-save\"></i></button>)\r\n                ]}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"p-3\">\r\n                    <div className=\"form-group\">\r\n                        <select ref=\"account\" className=\"form-control\" value={this.state.accountId} onChange={this.handleChangeProperty.bind(this, 'accountId')}>\r\n                            <option>-select account-</option>\r\n                            {this.state.accounts.map(item => <option key={item.accountId} value={item.accountId}>{item.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input placeholder=\"Title\" type=\"text\" ref=\"title\" className=\"form-control\" value={this.state.title} onChange={this.handleChangeProperty.bind(this, 'title')} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input placeholder=\"Amount\" onBlur={this.formatCurrency.bind(this)} ref=\"amount\" type=\"text\" className=\"form-control text-right\" value={this.state.amount} onChange={this.handleChangeProperty.bind(this, 'amount')} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <select className=\"form-control\" value={this.state.categoryId} onChange={this.handleChangeProperty.bind(this, 'categoryId')}>\r\n                            <option>-select category-</option>\r\n                            {this.state.categories.map(item => <option key={item.categoryId} value={item.categoryId}>{item.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input placeholder=\"Date\" type=\"datetime-local\" ref=\"date\" className=\"form-control\" value={this.state.date} onChange={this.handleChangeProperty.bind(this, 'date')} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <textarea placeholder=\"Description\" rows=\"5\" className=\"form-control\" value={this.state.description} onChange={this.handleChangeProperty.bind(this, 'description')}></textarea>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ModalDanger title=\"Confirm\" body=\"Are you sure you want to delete this?\" callback={this.handleDelete.bind(this)} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default EditExpense;\r\n  ","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Dashboard from '../dashboard/dashboard';\r\nimport Expense from '../expense/expense';\r\nimport Income from '../income/income';\r\nimport NewExpense from '../expense/new-expense';\r\nimport EditExpense from '../expense/edit-expense';\r\n\r\nclass Main extends Component {\r\n    render() {\r\n      return (\r\n        <main>\r\n            <Switch>\r\n                <Route path='/income' component={Income}/>\r\n                <Route path='/expense/edit/:id' component={EditExpense} />\r\n                <Route path='/expense/new' component={NewExpense} />\r\n                <Route path='/expense' component={Expense}/>\r\n                <Route path='/' component={Dashboard}/>\r\n            </Switch>\r\n        </main>\r\n      );\r\n    }\r\n}\r\n  \r\n\r\nexport default Main\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Navigation extends Component {\r\n    render() {\r\n      return (\r\n        <nav id=\"sidebar\">\r\n            <div id=\"dismiss\">\r\n                <i className=\"fas fa-arrow-left\"></i>\r\n            </div>\r\n            <div className=\"sidebar-header\">\r\n                <p></p>\r\n                <h4>moneytoring</h4>\r\n            </div>\r\n            <ul className=\"list-unstyled components nav-links\">\r\n                <li><Link to='/'><i className=\"fas fa-tachometer-alt mr-2\"></i>Dashboard</Link></li>\r\n                <li><Link to='/income'><i className=\"fas fa-dollar-sign mr-2\"></i>Income</Link></li>\r\n                <li><Link to='/expense'><i className=\"fas fa-tags mr-2\"></i>Expense</Link></li>\r\n                {/*<li className=\"active\">\r\n                    <a href=\"#homeSubmenu\" data-toggle=\"collapse\" aria-expanded=\"false\">Home</a>\r\n                    <ul className=\"collapse list-unstyled\" id=\"homeSubmenu\">\r\n                        <li>\r\n                            <a>Home 1</a>\r\n                        </li>\r\n                        <li>\r\n                            <a>Home 2</a>\r\n                        </li>\r\n                        <li>\r\n                            <a>Home 3</a>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n                <li>\r\n                    <a>About</a>\r\n                    <a href=\"#pageSubmenu\" data-toggle=\"collapse\" aria-expanded=\"false\">Pages</a>\r\n                    <ul className=\"collapse list-unstyled\" id=\"pageSubmenu\">\r\n                        <li>\r\n                            <a>Page 1</a>\r\n                        </li>\r\n                        <li>\r\n                            <a>Page 2</a>\r\n                        </li>\r\n                        <li>\r\n                            <a>Page 3</a>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n                <li>\r\n                    <a>Portfolio</a>\r\n                </li>\r\n                <li>\r\n                    <a>Contact</a>\r\n      </li>*/}\r\n            </ul>\r\n        </nav>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Navigation;\r\n  ","import React, { Component } from 'react';\r\nimport \"./animate.css\";\r\nimport './App.css';\r\nimport Main from './components/common/main';\r\nimport Navigation from './components/common/navigation';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <Navigation />  \r\n        <Main />\r\n        <div className=\"overlay\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Router } from 'react-router-dom';\r\nimport { initialize } from './database';\r\nimport { createBrowserHistory, createHashHistory } from 'history';\r\n\r\nconst configureHistory = () => {\r\n  return window.matchMedia('(display-mode: standalone)').matches\r\n    ? createHashHistory()\r\n    : createBrowserHistory()\r\n}\r\nconst history = configureHistory();\r\ninitialize(); //initialize database\r\nReactDOM.render((\r\n    <Router history={history} basename={process.env.PUBLIC_URL}>\r\n        <App />\r\n    </Router>\r\n), document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","\r\nexport const initialize = () => {\r\n    var request = window.indexedDB.open(\"Moneytoring\", 2);\r\n    \r\n    request.onupgradeneeded = function(event) {\r\n        var db = event.target.result;\r\n    \r\n        db.onerror = function(event) {\r\n            \r\n        };\r\n\r\n        if (!db.objectStoreNames.contains('expense')) {\r\n            var expenseTable = db.createObjectStore(\"expense\", { keyPath: \"expenseId\", autoIncrement: true });\r\n            expenseTable.createIndex(\"expenseId\", \"expenseId\", { unique: true });\r\n            expenseTable.createIndex(\"title\", \"title\", { unique: false });\r\n            expenseTable.createIndex(\"categoryId\", \"categoryId\", { unique: false });\r\n            expenseTable.createIndex(\"amount\", \"amount\", { unique: false });\r\n            expenseTable.createIndex(\"accountId\", \"accountId\", { unique: false });\r\n            expenseTable.createIndex(\"description\", \"description\", { unique: false });\r\n            expenseTable.createIndex(\"date\", \"date\", { unique: false });\r\n        }\r\n        \r\n        if (!db.objectStoreNames.contains('account')) {\r\n            var accountTable = db.createObjectStore(\"account\", { keyPath: \"accountId\", autoIncrement: true });\r\n            accountTable.createIndex(\"name\", \"name\", { unique: false });\r\n        }\r\n\r\n        if (!db.objectStoreNames.contains('category')) {\r\n            var categoryTable = db.createObjectStore(\"category\", { keyPath: \"categoryId\", autoIncrement: true });\r\n            categoryTable.createIndex(\"name\", \"name\", { unique: false });\r\n        }\r\n    }\r\n\r\n    request.onsuccess = function (event) {\r\n        var db = event.target.result;\r\n\r\n        //--------------------------------\r\n        //create default account (personal)\r\n        //--------------------------------\r\n        var transaction = db.transaction([\"account\"], \"readonly\");\r\n        var accountStore = transaction.objectStore(\"account\");\r\n        var selectAccounts = accountStore.getAll();\r\n        transaction.oncomplete = function (event) {            \r\n            if (selectAccounts.result.length === 0) {\r\n                var addAccountTransaction = db.transaction([\"account\"], \"readwrite\");\r\n                var accountStore1 = addAccountTransaction.objectStore(\"account\");\r\n                accountStore1.put({name: \"personal\"});\r\n            }\r\n        }\r\n        //----------------------------------------------------------------\r\n        //create default categories (food, transportation, clothing)\r\n        //----------------------------------------------------------------\r\n        var categoryTransaction = db.transaction([\"category\"], \"readonly\");\r\n        var categoryStore = categoryTransaction.objectStore(\"category\");\r\n        var selectCategories = categoryStore.getAll();\r\n        categoryTransaction.oncomplete = function (event) {\r\n            if (selectCategories.result.length === 0) {\r\n                var addCategoriesTransaction = db.transaction([\"category\"], \"readwrite\");\r\n                var addCategoryStore = addCategoriesTransaction.objectStore(\"category\");\r\n                addCategoryStore.put({name: \"food\"});\r\n                addCategoryStore.put({name: \"transportation\"});\r\n                addCategoryStore.put({name: \"clothing\"});\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":""}